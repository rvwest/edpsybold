/* ==========================================================
   Viewport-specific rules
   - Consolidates all @media (min/max-width) rules from parts/*
   - Grouped by viewport query
   - Preserves original comments and context
   ========================================================== */

/* == max-width: 1000px ==================================== */
@media only screen and (max-width: 1000px) {

  /* == jobs (options layout) — from jobs.css */
  .option-cols {
    display: inherit
  }

  .option-col1 {
    width: 100%;
    border-right: none;
    padding-right: 0;
    padding-bottom: 0
  }

  .option-col2 {
    width: 100%;
    padding-left: 0
  }

  .option-block-or {
    float: none;
    margin: 4rem auto 3rem auto;
    text-align: center;
    padding: 0 6px 3px 6px;
    border-radius: 0;
    border: none;
    background-color: var(--cl-light)
  }

  /* ==== Blog ==== */

  body.single-post #container {
    article.type-post {

      h1.entry-title {
        grid-column: 1 / span 12;
        font-size: var(--fs-title-large);
        line-height: var(--lh-title-large);
      }

      .author-image-header-block {
        .entry-image {
          grid-column: 1 / span 8;
        }

        .entry-meta {
          grid-column: 9 / span 4;
          margin-right: 0;
          margin-left: -30px;
          gap: var(--sp-medium);

        }
      }


      .entry-content {

        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        ul,
        ol,
        blockquote,
        .content-body {
          grid-column: 2 / span 10;
        }
      }

      .entry-content {
        display: grid;
        grid-auto-flow: row;
        margin-top: var(--sp-medium);


        .blog-swirls-tr {
          display: none;
        }

        .entry-author--top {
          grid-row: 1;
          grid-column: 1 / span 10;
          margin-top: 0;
          margin-bottom: var(--sp-medium);

          .authors-section {
            display: flex;
            align-items: center;
            flex-direction: row;
            padding-left: var(--sp-medium);
            gap: var(--sp-small);


            .author-avatars {
              margin-bottom: 0;

              .author-avatar {
                max-width: 70px;
                max-height: 70px;


                img,
                img.wp-post-image {
                  width: 70px;
                  height: 70px;

                }
              }
            }





            &.author-count-2 {


              .author-2 {
                margin-left: -20px;
              }
            }

            &.author-count-4 .author-avatars {
              margin: 0;
              flex-wrap: nowrap;

              .author-4,
              .author-3 {
                margin-top: 0;
              }

              .author-3 {
                margin-left: -25px;
              }
            }


          }

          .author-deco {
            display: none;
          }
        }

        .author-name {
          font-size: var(--sp-body-small);
          text-align: left;
          width: 70%;

          a {
            font-weight: var(--fw-medium);
          }

          br {
            display: none;
          }



        }
      }
    }
  }


  /* ======= Home ============ */

  .home {

    .article-grid .article-item {
      width: calc(50% - ((var(--sp-home-gap))/2));
      margin-bottom: calc(var(--sp-xlarge) - var(--sp-home-gap));
    }


    section.focus-on,
    section.longer-reads,
    section.homepage-events-wrapper,
    section.homepage-jobs-wrapper {
      margin-top: 40px
    }

    .homepage-jobs-wrapper,
    section.homepage-events-wrapper {
      margin: 0 var(--sp-neg-medium);

      /*.homepage-jobs {
        margin-left: var(--sp-medium);
        margin-right: var(--sp-medium);
      }*/
    }

    .focus-on.edp-bold-posts-4,
    .focus-on.edp-bold-posts-3,
    .focus-on.edp-bold-posts-2,
    .longer-reads,
    .homepage-jobs {

      .focus-posts-grid,
      .longer-reads-grid,
      .jobs-homepage-grid {
        padding-top: var(--sp-xsmall);
        flex-wrap: wrap;

        .article-item {

          width: 100%;
          margin-bottom: 0;
          max-width: 700px;

          a {
            display: flex;


            .article-item--image {
              width: 30%;
              display: flex;
              align-items: center;

              .home-article-image {
                margin-bottom: 0;
              }

            }

            h3 {
              width: 70%;
              padding-left: var(--sp-medium);
              padding-top: var(--sp-small);
              font-weight: normal;
            }

            &:hover,
            &:active {
              box-shadow: none;
            }
          }
        }


      }

      .home-article-image {

        .promo-text,
        .promo-subtitle {
          display: none;
        }
      }

      .page-promo .edp-jobs-promo--home {
        flex-direction: row;
        padding: 0;



        .home-article-image {

          display: flex;
          flex-direction: row;



          .promo-text {

            display: flex;
            flex-direction: column;
            align-items: flex-start;


            .promo-title {
              color: var(--cl-orange);
            }



          }


        }

        &:link,
        &:visited {



          h3 {
            color: var(--cl-orange);
          }
        }

        &:hover,
        &:active {

          h3,
          .promo-subtitle {
            color: var(--cl-purple);
          }
        }



        h3 {




          .promo-subtitle {
            margin-left: 0;
            padding-left: 0;
            text-align: left;
            color: var(--cl-dark);
          }
        }


        i {
          color: var(--cl-orange);
        }

        h3 {
          display: block;

          .promo-twolines {
            display: none;

          }
        }
      }
    }
  }



  .single-post .crp_related .article-grid .article-item {
    width: calc(50% - ((var(--sp-home-gap))/2));
  }

  /* ====== Basic pages ====== */

  .page-template-default:not(.job-listings-page, .wpbdp-view-main) article.type-page {
    grid-column: 1 / span 12;

    >*,
    .entry-content {
      grid-column: 2 / span 10;
    }


    .wp-block-media-text>.wp-block-media-text__content {
      padding: 0 0 0 var(--sp-medium)
    }
  }


  /* Item pages (jobs / events / thesis) */
  .single-tribe_events,
  .single-job-listing,
  .single-wpbdp_listing,
  .job_listing_preview {

    article.tribe-events-single,
    article.type-job_listing,
    article.wpbdp_listing {



      >*,
      .job_description {
        grid-column: 2 / span 10;
      }



      .meta-slice {


        .meta-img-l {
          grid-column: 1 / span 2;
          margin-left: var(--sp-neg-medium);
          margin-right: var(--sp-neg-xxlarge);
        }

        .job-listing-meta,
        .event-listing-meta,
        .edp-thesis-meta {
          grid-column: 3 / span 8;

          .detail,
          .value,
          .field-label {
            background-color: var(--cl-light-75);
            z-index: 4;
          }
        }

        .meta-img-r {
          grid-column: 11 / span 2;

          margin-right: var(--sp-neg-medium);
          margin-left: var(--sp-neg-xxxxlarge);
        }
      }
    }
  }

  .edp-jobs .page-promo .promo-text {
    flex-direction: column;

    .promo-subtitle {
      margin-left: 0;
      margin-top: var(--sp-xsmall);
    }
  }

  /*=== jobs dashbaord ====*/

  table.job-manager-jobs .job_title {
    flex-direction: column;
  }

  /* ===== All listings pages (job / thesis / events) ==== */

  .edp-jobs.job-listings-page .entry-content div.job_listings,
  .wpbdp-view-main :is(article.page)>*,
  .tribe-events-view--list .tribe-events-l-container>*,
  .tribe-events-view--list .tribe-events-header__top-bar,
  .tribe-events-view--list .event-disclaimer {
    grid-column: 1 / span 12;
  }

  /* === Job form === */
  .edpsybold.edp-jobs.add-job #container.edp-fullwidth .category-jobs-admin form#stripe-checkout-form {

    .option-cols {
      flex-direction: column;
    }

    .job-details-block-fieldset {
      padding-left: 0;
      padding-right: 0;
    }


    .option-col1,
    .option-col2 {
      width: 100%;
    }

    .option-col1 {
      border-bottom: solid 4px var(--cl-jobs-primary);
      border-right: none;
      padding-bottom: 0;

    }

    .option-block-or {
      float: none;
      margin-bottom: -20px;

      margin-top: var(--sp-medium);
      width: fit-content;
      margin-right: auto;
    }

    job_listing_stripe_checkout_form {
      fieldset {
        padding-left: 0;
      }
    }
  }

  .edpsybold {

    .edpsybold.edp-jobs.add-job #container.edp-fullwidth,
    .category-jobs-admin,
    &.tribe_community_edit {



      fieldset,
      div.venue,
      div.organizer,
      .tribe-section-content-row,
      div.events-community-post-title,
      .events-community-post-content {
        display: flex;
        flex-direction: column;
        gap: 0;
        padding: 0 var(--sp-small) var(--sp-small) var(--sp-small);
        margin-top: 0;
        margin-bottom: 0;

        label,
        .tribe-section-content-label {
          width: 100%;
          padding-left: 0;
        }
      }

      .fieldset-cap_declaration {
        margin-bottom: var(--sp-small);

        ul {
          margin-bottom: 0;
        }
      }
    }

    &.edp-jobs.add-job #container.edp-fullwidth .form-block.form-block-job-description#form-block-job-description {
      padding: var(--sp-medium) var(--sp-small) var(--sp-small) var(--sp-small);
    }

    textarea#post_content,
    input#post_title {
      width: 100%;
    }

    &.edp-jobs.add-job #container.edp-fullwidth .form-block.edpjobs-signin {
      flex-direction: column;

      .fieldset-login_required {
        border-right: none;
        border-bottom: solid 4px var(--cl-jobs-primary);
        margin-left: 0;
      }

      .option-block-or {
        float: none;
        margin: 0 auto;
        width: fit-content;
        margin-bottom: -31px;
      }

      .edp-jobs-createaccount {
        margin-left: 0;

        h3,
        p {
          padding-left: var(--sp-small);
        }
      }
    }
  }

  /*==== Footer ==== */

  footer#footer .footer-logo {
    width: 100px
  }
}

/* == min-width: 760px ===================================== */
@media screen and (min-width: 801px) {




  /* == nav desktop dropdowns — from nav.css */
  header[role="banner"] nav.top-nav-menu {
    ul>li {
      ul.sub-menu {
        position: absolute;
        top: 100%;
        left: 0;
        background-color: var(--cl-light);
        z-index: 1000;
        min-width: 100%;
        width: max-content;
        align-items: flex-start;
        border: 1px solid var(--cl-dark);

        .menu-item-has-children:last-of-type & {
          right: 0;
          left: inherit
        }

        li {
          width: 100%;

          a {
            display: flex;
            align-items: center;
            width: auto;
            min-width: 100%;
            white-space: nowrap;
            border: none;
            height: 27px;

            &:hover,
            &:active {
              background-color: var(--cl-lightpurple-hover);
              border: none
            }
          }
        }
      }
    }

    >ul>li:hover>ul.sub-menu {
      display: flex
    }

    ul ul.sub-menu {
      display: none
    }
  }


}

/* == max-width: 800px ===================================== */
@media screen and (max-width: 800px) {

  /* == nav mobile — from nav.css */

  header[role="banner"] {
    .menu-toggle {
      display: block;
      grid-column: 12 / span 1;
      color: var(--cl-dark);
    }

    nav.top-nav-menu {
      grid-column: 1 / span 12;
      margin-right: -24px;
      margin-left: -24px;

      ul {
        flex-direction: column;
        align-items: flex-start;
        width: 100%;
        display: none;

        li {
          width: 100%;

          .submenu-wrapper {
            width: 100%
          }
        }
      }

      &.open>ul,
      &.open>ul>.open ul {
        display: flex;
        margin-bottom: var(--sp-medium);

        >li {
          .submenu-wrapper {
            display: flex
          }

          a,
          .submenu-wrapper a {
            width: 100%;
            padding: var(--sp-small) var(--sp-small) var(--sp-small) var(--sp-medium);
            border-bottom: none
          }

          a:hover,
          &.current-menu-parent a,
          &.current-menu-item a {
            border-bottom: none
          }

          a:hover {
            background-color: var(--cl-lightpurple-hover)
          }

          &.current_page_parent>a:first-of-type,
          &.current_page_item>a:first-of-type,
          &.current-menu-item>a:first-of-type,
          &.current-menu-item>div>a:first-of-type,
          &.current_page_item>div>a:first-of-type,
          &.current_page_parent>div>a:first-of-type,
          .current-menu-item a:first-of-type {
            color: var(--cl-purple)
          }

          &.menu-item-object-page,
          .menu-item-object-page {
            display: flex;
            flex-direction: column
          }

          button.submenu-toggle {
            display: inline-block
          }

          ul.sub-menu {
            padding-left: var(--sp-medium)
          }
        }
      }
    }
  }

  /* == signup slice — from viewports.css */
  #signup-slice .signup-content {
    flex-wrap: wrap;

    .message {
      width: 100%;

      h2 {
        font-size: var(--fs-title-large)
      }
    }

    form {
      width: 100%;
      flex-direction: column;
      align-items: flex-start;

      br {
        display: none;
      }
    }
  }

  /* ========= Blog ========= */
  body.single-post #container article.type-post {




    .author-image-header-block {

      .entry-meta,
      .entry-image {
        grid-column: 1 / span 12;
      }

      .entry-meta {
        margin: 0;
        padding-left: 0;
        padding-top: var(--sp-small);
        gap: var(--sp-small);
        padding-bottom: 0;

        .entry-date-readtime {
          display: flex;
          gap: var(--sp-large);
          font-weight: var(--fw-medium);
        }

        .tags--header {
          padding-right: 110px;

          .post-tag {
            font-weight: var(--fw-medium);

          }

          .post-tag--more {
            font-weight: var(--fw-light);
          }
        }

        .entry-meta--share-button {
          width: 100%;
          display: flex;
          justify-content: end;
          margin-top: -60px;

          button {
            font-size: var(--fs-small);
          }
        }
      }
    }

    .blog-header-block {
      padding-bottom: var(--sp-large);
    }
  }

  /* ==== item pages (job, event, thesis) ==== */
  .single-tribe_events,
  .single-job-listing,
  .single-wpbdp_listing,
  .job_listing_preview {

    article.tribe-events-single,
    article.type-job_listing,
    article.wpbdp_listing {


      /* TODO - reinstate meta-slices for thesis and events */
      .meta-slice {

        .meta-img-l {
          grid-column: -1 / span 1;
        }

        .job-listing-meta,
        .event-listing-meta,
        .edp-thesis-meta {
          grid-column: 1 / span 12;
          padding-left: var(--sp-medium);
        }

        .meta-img-r {
          grid-column: 13 / span 1;
        }
      }
    }
  }

  /* ==== Home ===== */
  .home {

    &.top-menu-open header[role="banner"] a.header-logo-wrapper {

      padding: 0;

      .header-logo {
        width: 48px;
        margin: var(--sp-small) 0;
        padding: 0;
      }
    }

    section.hero-post .home-hero-item a {
      flex-direction: column;

      .hero-text,
      .hero-image {
        width: 100%
      }

      .hero-excerpt p {
        margin-bottom: 0;

      }
    }

    section.hero-post,
    section.focus-on,
    section.longer-reads,
    section.homepage-events-wrapper,
    section.homepage-jobs-wrapper {
      h2 {
        font-size: 50px;
      }
    }

    section.hero-post,
    section.focus-on,
    section.longer-reads {
      h2 {
        margin-top: -56px;
      }
    }

    .homepage-jobs {
      .jobs-homepage-grid {
        .page-promo .edp-jobs-promo--home {

          .home-article-image {
            i {
              margin-left: 0;
            }

            .promo-title {
              display: none;
            }


          }

          h3 {
            .promo-twolines {
              display: inline;

            }

            .promo-oneline {
              display: none;

            }
          }
        }
      }
    }

    .homepage-events-wrapper {


      .edp-events-calendar-list {

        margin-bottom: var(--sp-medium);

        .edp-events-calendar-list__event-row-wrapper {

          flex-wrap: wrap;

          .edp-events-calendar-list__event-row {
            width: 100%;

            a {
              padding-bottom: 0;
            }
          }
        }
      }
    }
  }

  /* ==== events ===== */

  .post-type-archive-tribe_events #container .edp-events-calendar-list__event-row a {
    .edp-event-title-and-meta {
      flex-direction: column;
      width: 100%;

      .edp-events-calendar-list__event-header {
        margin-right: 0;

        h3.edp-events-calendar-list__event-title {
          font-size: var(--fs-body);
          font-weight: var(--fw-semibold);

        }


      }

      .edp-events-calendar-list__event-meta {
        padding-top: 0;
        display: flex;
        gap: var(--sp-home-gap);
        font-weight: var(--fw-extralight);

        .epd-events-calendar-list__event-venue {
          margin-bottom: 0;
        }

        .tribe-events-calendar-list__event-cost {
          margin-top: 0;
        }

      }
    }
  }

  /* ====== Forms (events / jobs) ====== */


  .add-job article.category-jobs-admin>* {
    grid-column: 1 / span 12;
  }


  .edpsybold {



    .edpsybold.edp-jobs.add-job #container.edp-fullwidth,
    .category-jobs-admin,
    &.tribe_community_edit {

      .tribe-events-pg-template,
      .entry-content {
        grid-column: 1 / span 12;
      }

      .tribe-events-community-details,
      .tribe-section-content,
      .form-block {

        padding: var(--sp-small) var(--sp-small) var(--sp-medium) var(--sp-small);

      }

      .tribe-events-community-details {
        padding-bottom: var(--sp-medium);

        &#event_captcha {
          padding-left: var(--sp-medium);
        }
      }

      fieldset,
      div.venue,
      div.organizer,
      .tribe-section-content-row,
      div.events-community-post-title,
      .events-community-post-content {
        display: flex;
        flex-direction: column;
        gap: 0;
        padding: 0 var(--sp-small) var(--sp-small) var(--sp-small);
        margin-top: 0;
        margin-bottom: 0;

        label,
        .tribe-section-content-label {
          width: 100%;
          padding-left: 0;

          &.screen-reader-text {
            width: fit-content;
          }
        }
      }

      h2:not(#signup-slice h2, h2.my-events),
      .tribe-section-header h3 {
        font-size: var(--fs-title-large);
      }



      .start-end-values {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        width: 70%;
      }
    }

    &.add-job ul.progressbar {
      margin-left: 0 !important;
    }

    /* ====== Job listing page ====== */


    &.edp-jobs.edp-jobs.job-listings-page .entry-content ul.job_listings li a {
      .job-listing-logo {
        grid-column: 1 / span 3;

      }

      .job-listing--details-meta {
        display: flex;
        flex-direction: column;
        border-left: 3px solid var(--cl-jobs-primary);
        grid-column: 4 / span 8;

        .job-listing-details {
          padding: var(--sp-small) var(--sp-medium);

          .job-title h2 {
            font-size: var(--fs-body);
            line-height: var(--lh-body);
            font-weight: var(--fw-medium);
            padding-bottom: var(--sp-xxsmall)
          }

          .company {
            font-weight: var(--fw-extralight)
          }


        }

        .job-listing-meta {

          font-size: var(--fs-body-medium);

        }
      }


    }

  }


  /* === job preview only ==== */

  .add-job .job_listing_preview article.type-job_listing .meta-slice .job-listing-meta {
    margin-left: var(--sp-medium);
  }

  /*==== Footer ==== */

  footer#footer .footer-container {
    flex-direction: column;
    align-items: center;
    gap: var(--sp-xlarge);

    .footer-logo {
      width: 124px;

    }

    .footer-right {
      max-height: 80px;
      max-width: 175px;
    }

    &.footer-container--two {
      margin-top: var(--sp-medium);
    }
  }


}

/* == max-width: 700px ===================================== */
@media only screen and (max-width: 700px) {


  .single-post .crp_related .article-grid .article-item {
    width: 100%;

    a {
      display: flex;

      gap: var(--sp-home-gap);

      figure,
      .home-article-image {
        width: 30%;
        margin-bottom: 0;
      }

      .crp_title {
        width: 70%;
        padding-bottom: 0;
        padding-top: var(--sp-small);
      }
    }
  }


  /* ======= Home ====== */

  .home {



    .article-grid .article-item,
    .focus-posts-grid .article-item,
    .jobs-homepage-grid .article-item {

      width: 100%;
      margin-bottom: var(--sp-small);

      a {
        display: flex;


        .article-item--image {
          width: 40%;
          display: flex;
          align-items: center;

          .home-article-image {
            margin-bottom: 0;
          }

        }

        h3 {
          width: 60%;
          padding-left: var(--sp-medium);
          padding-top: var(--sp-small);
          font-weight: normal;
        }

        &:hover,
        &:active {
          box-shadow: none;
        }
      }
    }

    section.hero-post,
    section.focus-on,
    section.longer-reads,
    section.homepage-events-wrapper,
    section.homepage-jobs-wrapper {

      .focus-posts-grid,
      .longer-reads-grid,
      .jobs-homepage-grid {
        flex-wrap: wrap;

        .article-item {
          margin-bottom: 0;

          a {

            &:hover,
            &:active {
              box-shadow: none;
            }
          }
        }
      }
    }






  }

  /* == blog archive cards — from blog.css */
  .archive.category,
  .archive.tag {


    #content>article,
    #content>article {
      flex-basis: 100%;

      .archive-article-img {
        margin-bottom: 0
      }
    }
  }

  .archive.author,
  .archive.tag,
  .archive {

    .promo-1 {
      display: none;
    }

    .promo-2 {
      display: block;
      margin-bottom: var(--sp-medium);
    }

    /*   .page-promo {
      a {
        padding: var(--sp-xsmall) var(--sp-small);
        margin-bottom: var(--sp-medium);

        i {
          font-size: var(--fs-title-small);
        }
      }
    }*/
  }

  .archive.tag {
    .page-promo {
      margin-top: var(--sp-large)
    }
  }


  .archive {
    .page-promo {
      margin-top: 0;
    }
  }

  /* ============= Single blog =============== */

  body.single-post article.type-post {

    h1.entry-title {
      grid-column: 1 / span 12;
      margin-bottom: var(--sp-large);
      font-size: var(--fs-title-smallmedium);
      line-height: var(--lh-title-smallmedium);
      margin-top: var(--sp-large);
    }


    .entry-content {
      a {
        word-break: break-word;
      }

    }


    .entry-footer {
      margin-top: var(--sp-small);
      padding-top: var(--sp-medium);

      .tag-links,
      .author-info,
      .crp_related {
        grid-column: 1 / span 12;

        margin-left: var(--sp-medium);
        margin-right: var(--sp-medium);
      }

      .tag-links {
        flex-direction: row;

        margin-bottom: var(--sp-medium);

        .tag-items {
          margin-left: var(--sp-neg-xsmall);
        }
      }

      .author-info {
        display: flex;
        flex-direction: column;
        margin-top: 0;
        margin-bottom: var(--sp-small);

        .author-avatar {
          margin-left: 0 !important;
        }
      }
    }
  }


  /* ============= Headings =============== */
  /* ====================================== */

  /* -- massive headings -- */
  .edp-jobs,
  .archive.post-type-archive-tribe_events {
    h1 {
      margin: var(--sp-large) 0 var(--sp-xlarge) 0;
    }
  }

  /* -- medium headings -- */
  .business-directory.wpbdp-view-main {
    h1 {
      margin: var(--sp-xxlarge) 0 var(--sp-xlarge) 0;
    }


  }

  .edp-jobs,
  .archive.post-type-archive-tribe_events,
  .business-directory.wpbdp-view-main {
    .page-promo {
      margin-bottom: var(--sp-large);
    }
  }

  /* == listing pages — from headings.css */
  .job-listings-page article header,
  .business-directory article header,
  .archive main header.header,
  .tribe-events header.tribe-events-header,
  .add-job header.header {
    flex-direction: column;
    align-items: start
  }

  /* == headings ===== */

  .single-post,
  .single-tribe_events,
  .edp-jobs.single-job_listing article.type-job_listing {
    h1 {
      font-size: var(--fs-title-smallmedium);
      line-height: var(--lh-title-smallmedium);
      margin-top: var(--sp-large);
      margin-bottom: var(--sp-medium);
      padding-right: 0
    }

    .job-listing-logo {
      margin-top: var(--sp-large);
    }
  }

  .edp-jobs.single-job_listing,
  .single-tribe_events,
  .single-wpbdp_listing {

    article.type-job_listing,
    article.type-tribe_events,
    article.type-wpbdp_listing {

      header {

        .company,
        .edp-event-date-time,
        .edp-event-cost,
        .edp-event-location,
        .edp-event-on-demand,
        .wpbdp-year-inst-block {
          font-size: var(--fs-title-small);
          line-height: var(--lh-title-small);
        }
      }
    }

    /* == grid tweaks for header — from grid.css */
    .grid12 {
      .menu-toggle {
        grid-column: 11 / span 2;
        justify-self: end
      }

      nav.top-nav-menu {
        grid-column: 1 / span 12
      }
    }

    /* == promo banner — from promo-banner.css */
    .cta-second-link {
      display: none
    }
  }

  /* === forms ==== */

  .edpsybold.edp-jobs.add-job {

    h1.entry-title {
      margin-bottom: var(--sp-small);
    }

    .page-promo a {
      padding: 0;
      border: none;
      margin-bottom: var(--sp-medium);

      .promo-title,
      i {
        display: none;
      }

      .promo-subtitle {
        display: flex;
        flex-wrap: wrap;
        gap: var(--sp-xsmall)
      }
    }

    #container.edp-fullwidth .fieldset-logged_in .field.account-sign-in {
      flex-direction: column;
      align-items: flex-start;

      .signin-text {
        padding: var(--sp-small) 0 0 0;
      }
    }
  }

  /* ===== Thesis directory listing ==== */

  .business-directory.wpbdp-view-main #container,
  .business-directory.wpbdp-view-search #container {
    .wpbdp-main-box .wpbdp-listings-sort-options {
      flex-direction: column;

      & select {
        padding-left: 0
      }
    }

    .wpbdp-listing-excerpt a .excerpt-content {
      flex-direction: column;

      .listing-meta {
        margin-right: 0;
        padding-bottom: 0;
        min-width: 200px;

        .wpbdp-field-value:not(:last-child).wpbdp-field-name {
          margin-bottom: 0
        }

        .secondary-meta {
          display: flex;
          flex-direction: row;
          justify-content: space-between;

          .wpbdp-field-year {
            margin-top: -27px
          }
        }
      }

      .listing-title {
        padding-top: 0
      }
    }
  }


}


/* == max-width: 600px ===================================== */
@media only screen and (max-width: 600px) {

  /* == global — from global.css */
  body {
    font-size: var(--fs-body-medium)
  }

  p {
    font-size: var(--fs-body-medium)
  }

  body {
    #container {

      .entry-content,
      .job_description,
      .tribe-events-content,
      .edp-thesis-abstract,
      .category-jobs-admin,
      fieldset.fieldset-cap_declaration,
      .events-promo,
      .category-jobs-admin {

        ul:not(.job_listings),
        ol {
          margin-left: var(--sp-small);
        }
      }
    }
  }


  /* == Display medium H1 (thesis listings / thesis search / edit my events / jobs dashboard)  ============== */
  .business-directory.wpbdp-view-main h1.entry-title,
  .business-directory.wpbdp-view-search h1.entry-title,
  .tribe_community_edit h2.my-events,
  body.category-jobs-admin h1.entry-title {
    font-size: var(--fs-title-xlarge);
    line-height: var(--lh-title-xlarge);
    margin-bottom: var(--sp-large);
  }

  /*=== Special pages ==== */
  .edpsybold #container.edp-fullwidth .category-jobs ul.fa-features {
    margin: var(--sp-medium) var(--sp-small) 0 var(--sp-large);
  }

  /* ======= Home ====== */

  .home {


    .article-grid .article-item {
      width: 100%;
      margin-bottom: var(--sp-xsmall);

      a {
        .article-item--image {
          width: 30%
        }

        h3 {
          width: 70%;
          padding-top: var(--sp-xsmall);
          padding-bottom: var(--sp-xsmall);
        }
      }
    }

    section.hero-post,
    section.focus-on,
    section.longer-reads,
    section.homepage-events-wrapper,
    section.homepage-jobs-wrapper {
      h2 {
        font-size: var(--fs-title-large);
      }
    }

    .homepage-events-wrapper {
      padding-top: 40px !important;
    }

    section.hero-post,
    section.focus-on,
    section.longer-reads {
      h2 {
        margin-top: -51px;
      }
    }

    .edp-events-calendar-list__event-row a {
      flex-direction: column;

      .edp-events-calendar-list__event-header {
        margin-right: 0;
        padding-bottom: var(--sp-xxsmall);
        padding-top: var(--sp-small)
      }

      .edp-events-calendar-list__event-date-tag {
        margin-right: 0;

        .edp-events-calendar-list__event-date-tag-datetime {
          flex-direction: row;
          justify-content: start;
          padding: var(--sp-small) var(--sp-medium);

          .edp-events-calendar-list__event-date-tag-weekday {
            padding-right: var(--sp-xsmall)
          }

          .edp-events-calendar-list__event-date-tag-daynum {
            font-size: var(--fs-title-small);
            padding: 0;
            min-height: auto;
          }

          .edp-events-calendar-list__event-date-tag-month {
            padding-left: var(--sp-xsmall)
          }
        }
      }

      .edp-events-calendar-list__event-date-tag .edp-events-calendar-list__event-date-tag-datetime .edp-events-calendar-list__event-date-tag-weekday,
      .edp-events-calendar-list__event-date-tag .edp-events-calendar-list__event-date-tag-datetime .edp-events-calendar-list__event-date-tag-daynum,
      .edp-events-calendar-list__event-date-tag .edp-events-calendar-list__event-date-tag-datetime .edp-events-calendar-list__event-date-tag-month,
      .edp-events-calendar-list__event-header h3 {
        font-size: var(--fs-body);
        line-height: var(--lh-body);
        font-weight: var(--fw-medium)
      }

      .edp-events-calendar-list__event-meta {
        padding-top: 0;
        display: flex;
        justify-content: space-between;
        padding-bottom: var(--sp-small);
        font-weight: var(--fw-extralight);

        .epd-events-calendar-list__event-venue,
        .tribe-events-calendar-list__event-venue {
          margin-bottom: 0
        }

        .tribe-events-calendar-list__event-cost {
          margin-top: 0
        }
      }

      .edp-events-calendar-list__event-row.cat_on-demand & {
        .edp-events-calendar-list__event-date-tag {
          .edp-events-calendar-list__event-date-tag-weekday {
            display: none
          }
        }
      }
    }


  }



  /* == grid: base containers — from grid.css */
  .fullwidth {
    width: 100%;
    padding: 0 var(--sp-medium)
  }

  /* ======  Basic pages ====== */

  .page-template-default:not(.job-listings-page, .wpbdp-view-main) article.type-page {
    grid-column: 1 / span 12;

    >* {
      grid-column: 1 / span 12
    }

    .entry-content {
      grid-column: 1 / span 12
    }



    body.single-post {
      article.type-post {
        .entry-content {

          h2,
          h3,
          h4,
          h5,
          h6,
          p,
          ul,
          ol,
          blockquote,
          .content-body {
            grid-column: 1 / span 12;
          }
        }
      }
    }

    /* === WP blocks ==== */

    .is-stacked-on-mobile figure {
      margin-top: var(--sp-medium);
    }

    .wp-block-media-text>.wp-block-media-text__content {
      padding-right: var(--sp-medium)
    }
  }



  /* grid: author archive — from grid.css */
  .archive.author .archive.category-blog .grid12,
  body.archive.author .grid12 {
    :is(article.post) {
      grid-column: 1 / span 12
    }

    .archive-meta {
      grid-column: 1 / span 12;

      .author-avatar {
        grid-column: 1 / span 4
      }

      .author-description {
        grid-column: 5 / span 7
      }
    }
  }

  /* grid: events list container — from grid.css */
  .tribe-events-view--list {
    .tribe-events-l-container {
      >* {
        grid-column: 1 / span 12
      }
    }

    .tribe-events-header__top-bar {
      grid-column: 1 / span 12
    }

    .event-disclaimer {
      grid-column: 1 / span 12
    }
  }




  /* grid: single listings (job/event/thesis) — from grid.css */
  .single-tribe_events,
  .edp-jobs.single-job-listing,
  .single-wpbdp_listing,
  .add-job .job_listing_preview {

    article.tribe-events-single,
    article.type-job_listing,
    article.wpbdp_listing {
      >* {
        grid-column: 1 / span 12
      }

      header {
        display: flex;
        flex-wrap: wrap;
        flex-direction: column;
        grid-column: 1 / span 12;

        .job-listing-logo {
          margin-left: 0;
        }
      }

      .meta-slice {

        background-color: var(--cl-straw);
        margin: var(--sp-xlarge) var(--sp-neg-medium);
        overflow: hidden;

        .meta-img-l {
          display: none
        }



        .job-listing-meta,
        .event-listing-meta,
        .edp-thesis-meta {
          grid-column: 1 / span 11;




          .meta-item,
          .wpbdp-field-display {
            display: flex;
            flex-direction: column;
            padding-left: 0;
            width: fit-content;
            padding-right: 0;

            .label,
            .field-label {
              text-align: left;
              border: none;
              font-weight: var(--fw-normal);
              background-color: var(--cl-straw-75);


            }

            .detail,
            .value {
              padding-left: 0;
              padding-right: 0;
              font-weight: var(--fw-extralight);
              background-color: var(--cl-straw-75);

              .wpjmef-field-combined {
                display: flex;
                flex-direction: column;

                .spacer {
                  display: none;
                }
              }

            }
          }
        }

        .edp-thesis-meta .wpbdp-metadata-block>.wpbdp-field-display {
          .value>p {
            margin-left: var(--sp-medium);
          }

          .value>p::before {
            content: '•';
            margin-left: var(--sp-neg-small-plus);
            margin-right: var(--sp-small);
          }
        }

        .edp-thesis-meta .wpbdp-further-reading-block .wpbdp-field-display {
          a {
            margin-left: var(--sp-medium);
          }

          a::before {
            content: '•';
            margin-left: var(--sp-neg-small-plus);
            margin-right: var(--sp-small);
          }
        }



        .meta-img-r {
          margin-right: var(--sp-neg-xxxxlarge);
        }


      }

      .job_description {
        grid-column: 1 / span 12
      }
    }

    .job-footer-contents {
      grid-column: 1 / span 12
    }
  }

  /* event only === */

  .single-tribe_events {

    article.tribe-events-single {
      margin-bottom: 0;

      .meta-slice {
        margin-bottom: 0 !important;
      }
    }

    .tribe-events-after-html {
      margin-right: var(--sp-neg-medium);
      margin-left: var(--sp-neg-medium);
    }

  }

  /* grid: thesis directory — from grid.css */
  .wpbdp-view-main,
  .page-template-default.wpbdp-view-search {
    :is(article.page) {
      >* {
        grid-column: 1 / span 12
      }
    }
  }

  .business-directory.single-wpbdp_listing h1 {
    font-size: var(--fs-title-small);
    line-height: var(--lh-title-small);
  }



  /* == headings: page promo — from headings.css */
  .page-promo {
    margin-bottom: var(--sp-medium);

    a {
      flex-direction: row;
      justify-content: space-between;


      .promo-title {
        margin-bottom: var(--sp-xxsmall)
      }

      .promo-text {
        flex-direction: column
      }

      &.edp-jobs-promo {
        .promo-subtitle {
          margin-left: 0
        }
      }
    }
  }

  /* == headings: H1 sizes on smaller — from headings.css */
  .edp-jobs,
  body:not(.home).archive {
    h1 {
      font-size: var(--fs-display-medium);
      line-height: var(--lh-display-medium);
      margin: var(--sp-large) 0 var(--sp-large) 0;
    }
  }

  .edp-jobs.add-job .fieldset-logged_in {
    margin-bottom: var(--sp-small);

    .field.account-sign-in {
      margin-top: 0;
    }
  }



  body:not(.wp-admin) {
    h2 {
      font-size: var(--fs-title-small)
    }
  }

  /* == page content: related posts — from page.css */
  .page-template-default:not(.job-listings-page) article.type-page,
  article.job_listing,
  article.tribe-events-single,
  body:not(.home) article.type-post,
  article.type-wpbdp_listing,
  .tribe-events-pg-template,
  .edp-jobs.add-job {
    .crp_related {

      ul,
      ol {
        margin-left: 0
      }

      .wp-block-media-text__content {
        margin-top: var(--sp-medium);
        padding: 0;

        p:last-of-type {
          margin-bottom: 0
        }
      }

      .entry-content,
      .job_description,
      .tribe-events-content,
      .edp-thesis-abstract {

        ul,
        ol {
          margin-left: 0
        }
      }
    }
  }

  /* === preview only ==== */

  .add-job .job_listing_preview article.type-job_listing {
    padding-left: var(--sp-medium);
    padding-right: var(--sp-medium);
  }

  body.single-post #container article.type-post .entry-content .entry-author--top .authors-section {
    flex-direction: column-reverse;
    align-items: flex-start;
  }

  /* == Blog list page === */

  body:not(.home).archive {
    article.type-post {
      margin-bottom: var(--sp-large);
    }

    .promo-2 {
      grid-column: 1 / span 12;
    }

    #container .author-info {
      grid-column: 1 / span 12;
      display: flex !important;
      flex-direction: column;
      padding: 0 var(--sp-medium);

      .author-avatar {
        margin-left: 0;
        margin-bottom: var(--sp-small);
        padding-left: 0;


        img {
          width: 100px;
          height: 100px;
        }
      }

      .author-description {
        padding-right: 0;
      }
    }
  }

  /* === single blog page */

  body.single-post #container article.type-post .entry-content .content-body {
    grid-column: 1 / span 12;
    padding: 0 var(--sp-medium);
  }







  /* == events: list view — from events.css */
  /* === Small viewports === */
  .post-type-archive-tribe_events,
  .edpsybold.tribe_community_edit {
    #container {
      .tribe-common-l-container {
        margin: 0;
        padding: 0
      }



      .tribe-events-c-top-bar.tribe-events-header__top-bar {
        display: flex;
        align-items: center;
        margin-bottom: var(--sp-medium);

        .tribe-events-c-view-selector {
          margin-right: calc(var(--sp-small) - 4px)
        }
      }

      .tribe-events-calendar-list__month-separator {
        .tribe-events-calendar-list__month-separator-text {
          font-size: var(--fs-title-medium)
        }
      }

      .edp-events-calendar-list__event-row--featured a {
        .edp-events-calendar-list__event-header {
          border-bottom: none
        }

        .edp-events-calendar-list__event-meta {
          border-top: none
        }
      }

      .edp-events-calendar-list__event-row a {
        flex-direction: column;

        .edp-events-calendar-list__event-header {
          margin-right: 0;
          padding-bottom: var(--sp-xxsmall);
          padding-top: var(--sp-small)
        }

        .edp-events-calendar-list__event-date-tag {
          margin-right: 0;

          .edp-events-calendar-list__event-date-tag-datetime {
            flex-direction: row;
            justify-content: start;
            padding: var(--sp-small) var(--sp-medium);

            .edp-events-calendar-list__event-date-tag-weekday {
              padding-right: var(--sp-xsmall)
            }

            .edp-events-calendar-list__event-date-tag-daynum {
              font-size: var(--fs-title-small);
              padding: 0;
              min-height: auto;
            }

            .edp-events-calendar-list__event-date-tag-month {
              padding-left: var(--sp-xsmall)
            }
          }
        }

        .edp-events-calendar-list__event-date-tag .edp-events-calendar-list__event-date-tag-datetime .edp-events-calendar-list__event-date-tag-weekday,
        .edp-events-calendar-list__event-date-tag .edp-events-calendar-list__event-date-tag-datetime .edp-events-calendar-list__event-date-tag-daynum,
        .edp-events-calendar-list__event-date-tag .edp-events-calendar-list__event-date-tag-datetime .edp-events-calendar-list__event-date-tag-month,
        .edp-events-calendar-list__event-header h3 {
          font-size: var(--fs-body);
          line-height: var(--lh-body);
          font-weight: var(--fw-medium)
        }

        .edp-events-calendar-list__event-meta {
          padding-top: 0;
          display: flex;
          justify-content: space-between;
          padding-bottom: var(--sp-small);
          font-weight: var(--fw-extralight);

          .epd-events-calendar-list__event-venue,
          .tribe-events-calendar-list__event-venue {
            margin-bottom: 0
          }

          .tribe-events-calendar-list__event-cost {
            margin-top: 0
          }
        }

        .edp-events-calendar-list__event-row.cat_on-demand & {
          .edp-events-calendar-list__event-date-tag {
            .edp-events-calendar-list__event-date-tag-weekday {
              display: none
            }
          }
        }
      }
    }
  }

  /* == events: single event — from events.css */
  .single-tribe_events {
    header.event-page-header {
      margin-bottom: var(--sp-medium)
    }

    .tribe-events-venue-map {
      margin-top: var(--sp-small)
    }

    .tribe-events-after-html .event-disclaimer {
      margin: 0;
      padding: 0
    }
  }

  /* == jobs listings page — from jobs.css */
  .edpsybold.edp-jobs.job-listings-page {
    .entry-content {
      +* {
        grid-column: 1 / span 12
      }

      div.job_listings {
        grid-column: 1 / span 12;
        /* margin-top: var(--sp-large);*/

        ul.job_listings li a {
          .job-listing-logo {
            justify-content: center;
            padding-top: var(--sp-medium);
            padding-bottom: var(--sp-medium);
            border-bottom: 3px solid var(--cl-orange);

          }

          .job-listing-logo,
          .job-listing--details-meta,
          .job-listing-details,
          .job-listing-meta {
            grid-column: 1 / span 12;
            border-left: none;
          }

          .job-listing-logo,
          .job-listing-details,
          .job-listing-meta {
            padding-left: var(--sp-medium);
            padding-right: var(--sp-medium);


            img.company_logo {
              max-height: 100px;
              max-width: 200px
            }




          }
        }
      }
    }
  }



  /* == signup slice narrow — from viewports.css */
  #signup-slice .signup-content {
    .message {
      padding-right: 0;

      h2 {
        font-size: var(--fs-title-medium);
        line-height: var(--lh-title-medium)
      }
    }
  }

  /* === forms ==== */

  .edpsybold {

    .field {
      width: 100%
    }

    .field.account-sign-in {
      margin-top: var(--sp-small)
    }

    input[type="text"],
    input[type="email"],
    input#create_account_email,
    input[type="password"],
    input#company_name,
    .fieldset-type-term-multiselect .field,
    .checkbox-pair {
      width: 100%;
      max-width: var(--tb-medium);
    }

    input[type="text"]#company_website,
    input[type="text"]#application {
      width: 100%;
      max-width: var(--tb-large);
    }

    &.edp-jobs.add-job #container.edp-fullwidth .form-block.form-block-job-description#form-block-job-description {
      padding: 0;

      fieldset {
        padding: 0;
      }
    }
  }

  &.edp-jobs.add-job #container.edp-fullwidth .category-jobs-admin form#stripe-checkout-form {

    .option-col1,
    .option-col2 {
      padding-right: var(--sp-medium);

      padding-left: var(--sp-medium);

      fieldset {
        padding-left: 0;

        label {
          font-size: var(--fs-body);
        }
      }
    }

    fieldset div.field:not(.full-line-checkbox-field) {
      width: 100%;
    }

    .option-col1 {
      border-bottom: solid 4px var(--cl-jobs-primary);
      border-right: none;
      padding-bottom: 0;
      padding-top: 0;

    }
  }

  /*=== thesis directory listing ==== */
  .business-directory.wpbdp-view-main #container .wpbdp-main-box {
    flex-direction: column;
    padding: 0;
    gap: var(--sp-medium);
    background: none;
    align-items: end;

    .search-wrapper {
      width: 100%;
      padding-left: var(--sp-small);
      border: none;
      background-color: var(--cl-light);

      .submit-btn {
        border: none;
        padding: 0 var(--sp-small);
        display: flex;
        align-items: center;
      }
    }

    .wpbdp-listings-sort-options {
      background-color: var(--cl-light);
      padding: var(--sp-xsmall) var(--sp-small);
      flex-direction: row;
      align-items: center;

    }

  }

  .wp-singular.page-template.page-template-template-fullwidth-jobs {
    .grid12>article.page {
      grid-column: 1 / span 12;
    }

    #job-manager-job-dashboard .job-manager-jobs {
      thead {
        display: none;
      }

      tr {
        display: flex;
        flex-direction: column;
        gap: 0;



        td.job_title {
          flex-direction: column;
          padding-top: 0;
          padding-bottom: 0;
        }

        .job-dashboard-actions {
          margin-left: 0 !important;

        }


      }
    }
  }

}



@media only screen and (max-width: 500px) {



  /* ======= Home ====== */

  .home {


    .focus-on.edp-bold-posts-4,
    .focus-on.edp-bold-posts-3,
    .focus-on.edp-bold-posts-2,
    .longer-reads,
    .homepage-jobs,
    .article-grid {

      .article-item a,
      .longer-reads .longer-reads-grid .article-item a,
      .focus-on .focus-posts-grid .article-item a,
      .jobs-homepage-grid .article-item a {

        flex-direction: column;

        .article-item--image {
          width: 100%;
          max-width: 320px;
          padding-left: var(--sp-small);
          padding-top: var(--sp-small);
        }

        h3 {
          width: 100%;
          padding-left: var(--sp-small);
        }
      }

      .jobs-homepage-grid .article-item a {
        align-items: flex-start;
        justify-content: flex-start;
      }
    }
  }

  body.single-post article.type-post {
    .entry-footer .tag-links {
      flex-direction: column;
    }

    .crp_related .article-grid .article-item a {

      flex-direction: column;
      gap: 0;

      .tag-links {
        flex-direction: column;

      }

      figure,
      .home-article-image {
        width: 100%;
        max-width: 320px;
        margin-bottom: 0;

        img {
          margin-bottom: 0;
        }
      }

      .crp_title {
        width: 100%;
        padding-top: var(--sp-xsmall)
      }
    }
  }

  /* === forms ==== */

  .edpsybold {

    .edpsybold.edp-jobs.add-job #container.edp-fullwidth,
    .category-jobs-admin,
    &.tribe_community_edit {


      .tribe-events-community-details,
      .tribe-section-content,
      .form-block {

        padding: var(--sp-small);

      }
    }
  }

  .edpsybold input[type="text"],
  input[type="email"],
  input#create_account_email,
  input[type="password"],
  input#company_name,
  .fieldset-type-term-multiselect .field,
  .checkbox-pair {
    max-width: none;
  }

  .edpsybold.edp-jobs.add-job #container.edp-fullwidth .category-jobs-admin form#stripe-checkout-form {


    fieldset .job-details-block {
      flex-direction: column;
      align-items: start;
      margin-left: 0;

      .payment-details-name-description {
        width: 100%;
        justify-content: flex-start;
        margin-bottom: var(--sp-small);


        .field,
        .job-listing {
          text-align: left;
        }


      }
    }

    .fieldset-stripe_payment.fieldset-type-text .item-cost {
      margin-left: 0;

    }
  }
}

/* == max-width: 440px ===================================== */
@media only screen and (max-width: 440px) {

  body.single-post article.type-post .author-image-header-block .entry-meta {
    .tags--header {
      padding-right: 0;

    }

    .entry-meta--share-button {
      margin-top: 0;
      justify-content: start;
    }
  }

  #signup-slice .signup-content {
    padding: var(--sp-medium);

    .message h2 {
      font-size: var(--fs-title-small);
      line-height: var(--lh-title-small);
    }
  }

  /*==== Home ======*/

  .home {

    .article-grid .article-item a {



      .article-item--image {
        width: 100%;
        max-width: none;
        padding-right: var(--sp-small);
      }

    }

    section.hero-post,
    section.focus-on,
    section.longer-reads,
    section.homepage-events-wrapper,
    section.homepage-jobs-wrapper {
      h2 {
        font-size: var(--fs-title-medium);
      }
    }

    section.hero-post,
    section.focus-on,
    section.longer-reads {
      h2 {
        margin-top: -48px;
      }
    }


  }

  /* ==== Events ====== */

  .tribe_community_edit {

    .datepicker.dropdown-menu,
    div#ui-datepicker-div {
      display: none !important;
    }
  }

  .edpsybold.edp-jobs.add-job {



    #container.edp-fullwidth {




      .category-jobs-admin form#stripe-checkout-form {

        .option-col1,
        .option-col2 {
          padding-right: var(--sp-small);
          padding-left: var(--sp-small);
        }

        fieldset {
          padding-left: 0;


        }

      }
    }
  }
}